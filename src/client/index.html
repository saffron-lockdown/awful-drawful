<html>
  <label for="name">Name</label>

  <input type="text" id="name" name="name" required size="10" />
  <button type="button" id="submit">submit</button>
  <div id="name-display"></div>

  <script>
    const socket = new WebSocket('ws://localhost:3000');
    const nameInput = document.querySelector('#name');
    const submitButton = document.querySelector('#submit');
    submitButton.onclick = () => {
      const msg = {
        name: nameInput.value,
      };
      console.log(msg);
      socket.send(JSON.stringify(msg));
    };

    const nameDisplay = document.querySelector('#name-display');
    socket.onmessage = ({ data }) => {
      nameDisplay.innerText = data;
      console.log(data);
    };
  </script>
</html>
